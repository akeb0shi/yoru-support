{"ast":null,"code":"import React,{useState}from'react';import{useNavigate}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Register(){// base Register function\nconst[formData,setFormData]=useState({name:'',email:'',password:''});const[error,setError]=useState('');const navigate=useNavigate();// handles any changes in the registration form\nconst formChange=e=>{const{name,value}=e.target;setFormData(prev=>({...prev,[name]:value}));};// handles when a registration form is submitted\nconst handleSubmit=async e=>{e.preventDefault();setError('');// error message template\n// check all fields are filled in\nif(!formData.name||!formData.email||!formData.password){setError('All fields are required');return;}// TODO: Might need extra checks to ensure email, password, etc. are valid\ntry{// send registration request to API\nconst response=await fetch('/api/register',{method:'POST',headers:{'Content-Type':'application/json'},credentials:'include',// security measure for cookies\nbody:JSON.stringify({name:formData.name,email:formData.email,password:formData.password})});const data=await response.json();if(!response.ok){// error check for invalid input\nthrow new Error(data.error||'Registration failed');}// go to dashboard on successful registration\nnavigate('/dashboard');}catch(err){setError(err.message);}};return(/*#__PURE__*/// basic formatting for output\n_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Register\"}),error&&/*#__PURE__*/_jsx(\"p\",{style:{color:'red'},children:error}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Name:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",value:formData.name,onChange:formChange,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Email:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",value:formData.email,onChange:formChange,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Password:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",value:formData.password,onChange:formChange,required:true})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Register\"})]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Already have an account? \",/*#__PURE__*/_jsx(\"a\",{href:\"/login\",children:\"Login here\"})]})]}));}export default Register;","map":{"version":3,"names":["React","useState","useNavigate","jsx","_jsx","jsxs","_jsxs","Register","formData","setFormData","name","email","password","error","setError","navigate","formChange","e","value","target","prev","handleSubmit","preventDefault","response","fetch","method","headers","credentials","body","JSON","stringify","data","json","ok","Error","err","message","children","style","color","onSubmit","type","onChange","required","href"],"sources":["/Users/dylankao/Desktop/WebDev/SUPPORT/yoru-support/client/src/components/Auth/Register.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\n\nfunction Register() { // base Register function\n  const [formData, setFormData] = useState({\n    name: '',\n    email: '',\n    password: ''\n  });\n\n  const [error, setError] = useState('');\n  const navigate = useNavigate();\n\n  // handles any changes in the registration form\n  const formChange = (e) => {\n    const { name, value } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  };\n\n  // handles when a registration form is submitted\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setError(''); // error message template\n\n    // check all fields are filled in\n    if (!formData.name || !formData.email || !formData.password) {\n      setError('All fields are required');\n      return;\n    }\n\n    // TODO: Might need extra checks to ensure email, password, etc. are valid\n\n    try {\n      // send registration request to API\n      const response = await fetch('/api/register', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        credentials: 'include', // security measure for cookies\n        body: JSON.stringify({\n          name: formData.name,\n          email: formData.email,\n          password: formData.password\n        })\n      });\n\n      const data = await response.json();\n\n      if (!response.ok) { // error check for invalid input\n        throw new Error(data.error || 'Registration failed');\n      }\n\n      // go to dashboard on successful registration\n      navigate('/dashboard');\n    } catch (err) {\n      setError(err.message);\n    } \n  };\n\n  return ( // basic formatting for output\n    <div>\n      <h2>Register</h2> \n      {error && <p style={{ color: 'red' }}>{error}</p>}\n      <form onSubmit={handleSubmit}>\n        <div>\n          <label>Name:</label>\n          <input\n            type=\"text\"\n            name=\"name\"\n            value={formData.name}\n            onChange={formChange}\n            required\n          />\n        </div>\n        <div>\n          <label>Email:</label>\n          <input\n            type=\"email\"\n            name=\"email\"\n            value={formData.email}\n            onChange={formChange}\n            required\n          />\n        </div>\n        <div>\n          <label>Password:</label>\n          <input\n            type=\"password\"\n            name=\"password\"\n            value={formData.password}\n            onChange={formChange}\n            required\n          />\n        </div>\n        <button type=\"submit\">Register</button>\n      </form>\n      <p>Already have an account? <a href=\"/login\">Login here</a></p>\n    </div>\n  );\n}\n\nexport default Register;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}