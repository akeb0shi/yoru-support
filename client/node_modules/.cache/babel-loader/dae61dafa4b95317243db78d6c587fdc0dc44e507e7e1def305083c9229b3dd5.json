{"ast":null,"code":"import React,{useState}from'react';import{useNavigate}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Login(){// base Login function\nconst[formData,setFormData]=useState({email:'',password:''});const[error,setError]=useState('');const navigate=useNavigate();// handles any changes in the login form\nconst formChange=e=>{const{name,value}=e.target;setFormData(prev=>({...prev,[name]:value}));};// handles when a login form is submitted\nconst handleSubmit=async e=>{e.preventDefault();setError('');// error message template\n// check that both fields are filled in\nif(!formData.email||!formData.password){setError('Email and password are required');return;}try{// send login request to API\nconst response=await fetch('/api/login',{method:'POST',headers:{'Content-Type':'application/json'},credentials:'include',// security measure for cookies\nbody:JSON.stringify(formData)});const data=await response.json();if(!response.ok){// error check for invalid input\nthrow new Error(data.error||'Login failed');}// go to dashboard on successful login\nnavigate('/dashboard');}catch(err){setError(err.message);}};return(/*#__PURE__*/// basic formatting for output \n_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Login\"}),error&&/*#__PURE__*/_jsx(\"p\",{style:{color:'red'},children:error}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Email:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",value:formData.email,onChange:formChange,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Password:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",value:formData.password,onChange:formChange,required:true})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Login\"})]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Don't have an account? \",/*#__PURE__*/_jsx(\"a\",{href:\"/register\",children:\"Register here\"})]})]}));}export default Login;","map":{"version":3,"names":["React","useState","useNavigate","jsx","_jsx","jsxs","_jsxs","Login","formData","setFormData","email","password","error","setError","navigate","formChange","e","name","value","target","prev","handleSubmit","preventDefault","response","fetch","method","headers","credentials","body","JSON","stringify","data","json","ok","Error","err","message","children","style","color","onSubmit","type","onChange","required","href"],"sources":["/Users/dylankao/Desktop/WebDev/SUPPORT/yoru-support/client/src/components/Auth/Login.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\n\nfunction Login() { // base Login function\n  const [formData, setFormData] = useState({\n    email: '',\n    password: ''\n  });\n\n  const [error, setError] = useState('');\n  const navigate = useNavigate();\n\n  // handles any changes in the login form\n  const formChange = (e) => {\n    const { name, value } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  };\n  \n  // handles when a login form is submitted\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setError(''); // error message template\n    \n    // check that both fields are filled in\n    if (!formData.email || !formData.password) {\n      setError('Email and password are required');\n      return;\n    }\n\n    try {\n      // send login request to API\n      const response = await fetch('/api/login', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        credentials: 'include', // security measure for cookies\n        body: JSON.stringify(formData)\n      });\n\n      const data = await response.json(); \n\n      if (!response.ok) { // error check for invalid input\n        throw new Error(data.error || 'Login failed');\n      }\n\n      // go to dashboard on successful login\n      navigate('/dashboard');\n    } catch (err) {\n      setError(err.message);\n    }\n  };\n\n  return ( // basic formatting for output \n    <div>\n      <h2>Login</h2>\n      {error && <p style={{ color: 'red' }}>{error}</p>}\n      <form onSubmit={handleSubmit}>\n        <div>\n          <label>Email:</label>\n          <input\n            type=\"email\"\n            name=\"email\"\n            value={formData.email}\n            onChange={formChange}\n            required\n          />\n        </div>\n        <div>\n          <label>Password:</label>\n          <input\n            type=\"password\"\n            name=\"password\"\n            value={formData.password}\n            onChange={formChange}\n            required\n          />\n        </div>\n        <button type=\"submit\">Login</button>\n      </form>\n      <p>\n        Don't have an account? <a href=\"/register\">Register here</a>\n        {/* <br /> Or <a href=\"/guest\">Continue as guest</a> */}\n      </p>\n    </div>\n  );\n}\n\nexport default Login;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}